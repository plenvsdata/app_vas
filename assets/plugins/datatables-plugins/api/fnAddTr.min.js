jQuery.fn.dataTableExt.oApi.fnAddTr=function(oSettings,nTr,bRedraw){if(typeof bRedraw=="undefined"){bRedraw=true}var nTds=nTr.getElementsByTagName("td");if(nTds.length!=oSettings.aoColumns.length){alert("Warning: not adding new TR - columns and TD elements must match");return}var aData=[];var aInvisible=[];var i;for(i=0;i<nTds.length;i++){aData.push(nTds[i].innerHTML);if(!oSettings.aoColumns[i].bVisible){aInvisible.push(i)}}var iIndex=this.oApi._fnAddData(oSettings,aData);nTr._DT_RowIndex=iIndex;oSettings.aoData[iIndex].nTr=nTr;oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();for(i=aInvisible.length-1;i>=0;i--){oSettings.aoData[iIndex]._anHidden[i]=nTds[aInvisible[i]];nTr.removeChild(nTds[aInvisible[i]])}if(bRedraw){this.oApi._fnReDraw(oSettings)}};